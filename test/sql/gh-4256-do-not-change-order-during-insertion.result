-- test-run result file version 2
test_run = require('test_run').new()
 | ---
 | ...
engine = test_run:get_cfg('engine')
 | ---
 | ...
--
-- Make sure that when inserting, values are inserted in the given
-- order when ephemeral space is used.
--
box.execute('CREATE TABLE t (i INT PRIMARY KEY AUTOINCREMENT);')
 | ---
 | - row_count: 1
 | ...
--
-- In order for this INSERT to use the ephemeral space, we created
-- this trigger.
--
box.execute('CREATE TRIGGER r AFTER INSERT ON t FOR EACH ROW BEGIN SELECT 1; END')
 | ---
 | - row_count: 1
 | ...
box.execute('INSERT INTO t VALUES (1), (NULL), (10), (NULL), (NULL), (3), (NULL);')
 | ---
 | - autoincrement_ids:
 |   - 2
 |   - 11
 |   - 12
 |   - 13
 |   row_count: 7
 | ...
box.execute('SELECT * FROM t;')
 | ---
 | - metadata:
 |   - name: I
 |     type: integer
 |   rows:
 |   - [1]
 |   - [2]
 |   - [3]
 |   - [10]
 |   - [11]
 |   - [12]
 |   - [13]
 | ...
box.execute('DROP TABLE t;')
 | ---
 | - row_count: 1
 | ...
